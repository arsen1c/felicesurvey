<!DOCTYPE html>
<html>
	<%- include('./partials/head.ejs') %>
	<link rel="stylesheet" href="../css/all.css">
	<script src="../js/all.js" defer></script>

<style>
	body {
		font-family: sans-serif;
		font-size: 1.3rem;
		color: #4f4f4f;
		background: #f7fdff;
	}

	.all-main {
		display: grid;
		gap: 1rem;
		
		grid-template-columns: repeat(auto-fit, minmax(440px, 1fr));
		grid-auto-rows: 205px;
	}

	.survey-card {
		/*border: 1px solid grey;*/
		margin: 2px;
		box-shadow: rgba(149, 157, 165, 0.2) 0px 8px 24px;
		padding: 0 0.7rem 0.7rem 0.7rem;
		border-radius: 8px;
		background: #fff;
	}

	.title {
		font-weight: bold;
	}
	.name {
		text-transform: capitalize;
	}
	.snippets {
		max-height: 118px;
		overflow-y: hidden;
	}

	.actions {
		margin-top: 1.7rem;
	}

	/* Styling BUttons */
	.show-more,
	.delete {
		border: none;
		padding: 0.7rem;
		font-size: 1rem;
		background: #85dcff;
		border-radius: 3px;
		color: #292929;
		cursor: pointer;
	}

	.show-more:hover,
	.delete:hover {
		opacity: 0.9;
	}
	.delete {
		background: #ff5454;
	}

</style>

<body>
	<div id="snackbar"></div>
	<div class="all-main">
		<% if (data) {%>
			<% data.forEach(survey => { %>
				<div class="survey-card">
					<div class="snippets">
						<p class="name"><span class="title">Name:</span> <%= survey.name %></p>
						<p class="dream"><span class="title">Dream:</span> <%= survey.dream %></p>
					</div>
					<div class="actions">
						<button class="show-more" data-id=<%= survey.id %>>Show More</button>
						<button class="delete" data-id=<%= survey.id %>>Delete</button>
					</div>
				</div>
			<% }) %>
		<% } else {%>
				<p>Theres nothing to display at the moment!</p>
		<% } %>
	</div>
</body>
</html>